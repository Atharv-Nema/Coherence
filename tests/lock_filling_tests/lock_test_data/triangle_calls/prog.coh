
/*
Triangles will form a connected region in the callable graph that looks
like a triangle
*/

func triangle1() => unit {
    atomic {
        (new locked<A>[1] int(1))[0];
    }
    return triangle2();
}

func triangle2() => unit {
    atomic {
        (new locked<B>[1] int(1))[0];
    }
    return triangle3();
}

func triangle3() => unit {
    atomic {
        (new locked<C>[1] int(1))[0];
    }
    return triangle1();
}

actor Main {
    new create() {}
}



